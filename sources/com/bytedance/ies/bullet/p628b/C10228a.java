package com.bytedance.ies.bullet.p628b;

import android.net.Uri;
import com.bytedance.android.monitor.p461a.C8870b.C8871a;
import com.bytedance.android.monitor.p461a.C8872c;
import com.bytedance.android.monitor.p461a.C8873d;
import com.bytedance.android.monitor.p462b.C8878d;
import com.bytedance.android.monitor.p462b.C8879e;
import com.bytedance.ies.bullet.p628b.p629a.C10238a;
import com.bytedance.ies.bullet.p628b.p630b.C10243a;
import com.bytedance.ies.bullet.p628b.p631c.C10247a;
import com.bytedance.ies.bullet.p628b.p633e.C10277aa;
import com.bytedance.ies.bullet.p628b.p633e.C10284d;
import com.bytedance.ies.bullet.p628b.p633e.C10286e;
import com.bytedance.ies.bullet.p628b.p633e.C10287f;
import com.bytedance.ies.bullet.p628b.p633e.C10288g;
import com.bytedance.ies.bullet.p628b.p633e.C10289h;
import com.bytedance.ies.bullet.p628b.p633e.C10290i;
import com.bytedance.ies.bullet.p628b.p633e.C10292k;
import com.bytedance.ies.bullet.p628b.p633e.C10293l;
import com.bytedance.ies.bullet.p628b.p633e.C10294m;
import com.bytedance.ies.bullet.p628b.p633e.C10295n;
import com.bytedance.ies.bullet.p628b.p633e.C10296o;
import com.bytedance.ies.bullet.p628b.p633e.C10307t;
import com.bytedance.ies.bullet.p628b.p633e.C10308u;
import com.bytedance.ies.bullet.p628b.p633e.C10310w;
import com.bytedance.ies.bullet.p628b.p633e.C10313z;
import com.bytedance.ies.bullet.p628b.p633e.p634a.C10271f;
import com.bytedance.ies.bullet.p628b.p636f.C10321d;
import com.bytedance.ies.bullet.p628b.p637g.p638a.C10326b;
import com.bytedance.ies.bullet.p628b.p637g.p640c.C10331b;
import com.bytedance.ies.bullet.p628b.p637g.p640c.C10333d;
import com.bytedance.ies.bullet.p628b.p637g.p640c.C10334e;
import com.bytedance.ies.bullet.p628b.p637g.p640c.C10335f;
import com.bytedance.ies.bullet.p628b.p641h.C10354c;
import com.bytedance.ies.bullet.p628b.p641h.C10354c.C10355a;
import com.bytedance.ies.bullet.p628b.p641h.C10357d;
import com.bytedance.ies.bullet.p628b.p641h.C10358e;
import java.util.ArrayList;
import java.util.Collection;
import java.util.Iterator;
import java.util.LinkedHashMap;
import java.util.LinkedHashSet;
import java.util.List;
import java.util.Map;
import java.util.Map.Entry;
import java.util.Set;
import p2628d.C52857u;
import p2628d.C52860x;
import p2628d.p2629a.C52575l;
import p2628d.p2639f.p2640a.C52671b;
import p2628d.p2639f.p2640a.C52682m;
import p2628d.p2639f.p2640a.C52686q;
import p2628d.p2639f.p2641b.C52707g;
import p2628d.p2639f.p2641b.C52711k;
import p2628d.p2639f.p2641b.C52712l;

/* renamed from: com.bytedance.ies.bullet.b.a */
public final class C10228a implements C10244c {

    /* renamed from: a */
    public Map<String, Object> f27560a;

    /* renamed from: b */
    public Object f27561b;

    /* renamed from: c */
    public final C10247a f27562c;

    /* renamed from: d */
    public final C10357d f27563d;

    /* renamed from: e */
    public final C10358e f27564e;

    /* renamed from: f */
    public final C10238a f27565f;

    /* renamed from: g */
    public final C10321d f27566g;

    /* renamed from: h */
    public final C10243a f27567h;

    /* renamed from: i */
    public final C52682m<Iterable<? extends C10333d<C10310w>>, C10334e<C10310w>, C10335f<C10310w>> f27568i;

    /* renamed from: j */
    public final List<C10284d<?, ?, ?, ?>> f27569j;

    /* renamed from: k */
    public final Map<Class<C10284d<?, ?, ?, ?>>, C10289h<?>> f27570k;

    /* renamed from: l */
    public final C10253e f27571l;

    /* renamed from: m */
    public final Map<String, C10253e> f27572m;

    /* renamed from: n */
    public final C10242b f27573n;

    /* renamed from: o */
    public final C10287f f27574o;

    /* renamed from: p */
    private final Set<C10292k> f27575p;

    /* renamed from: q */
    private final C10326b f27576q;

    /* renamed from: com.bytedance.ies.bullet.b.a$a */
    public static final class C10229a {

        /* renamed from: a */
        public C10326b f27577a = new C10326b();

        /* renamed from: b */
        public C10247a f27578b;

        /* renamed from: c */
        public C10357d f27579c;

        /* renamed from: d */
        public C10358e f27580d;

        /* renamed from: e */
        public C10238a f27581e;

        /* renamed from: f */
        public C10321d f27582f;

        /* renamed from: g */
        public C10243a f27583g = new C10243a(false, false, 3, null);

        /* renamed from: h */
        public C52682m<? super Iterable<? extends C10333d<C10310w>>, ? super C10334e<C10310w>, ? extends C10335f<C10310w>> f27584h = C10230a.f27591a;

        /* renamed from: i */
        public final List<C10284d<?, ?, ?, ?>> f27585i = new ArrayList();

        /* renamed from: j */
        public final Map<Class<C10284d<?, ?, ?, ?>>, C10289h<?>> f27586j = new LinkedHashMap();

        /* renamed from: k */
        public C10253e f27587k;

        /* renamed from: l */
        public final Map<String, C10253e> f27588l = new LinkedHashMap();

        /* renamed from: m */
        public C10287f f27589m;

        /* renamed from: n */
        public C10242b f27590n;

        /* renamed from: com.bytedance.ies.bullet.b.a$a$a */
        static final class C10230a extends C52712l implements C52682m<Iterable<? extends C10333d<C10310w>>, C10334e<C10310w>, C10331b<C10310w>> {

            /* renamed from: a */
            public static final C10230a f27591a = new C10230a();

            C10230a() {
                super(2);
            }

            public final /* synthetic */ Object invoke(Object obj, Object obj2) {
                Iterable iterable = (Iterable) obj;
                C10334e eVar = (C10334e) obj2;
                C52711k.m112240b(iterable, "processors");
                return new C10331b(iterable, eVar);
            }
        }

        public C10229a() {
            C10242b bVar = new C10242b(false, false, false, 7, null);
            this.f27590n = bVar;
        }

        /* renamed from: a */
        public final <U extends C10294m, V extends C10286e, W extends C10290i, X extends C10288g> C10229a mo18266a(C10284d<U, V, W, X> dVar) {
            C52711k.m112240b(dVar, "api");
            this.f27585i.add(dVar);
            return this;
        }
    }

    /* renamed from: com.bytedance.ies.bullet.b.a$b */
    public static final class C10231b implements C10333d<C10310w> {

        /* renamed from: a */
        final /* synthetic */ C10228a f27592a;

        /* renamed from: b */
        final /* synthetic */ C10333d f27593b;

        /* renamed from: c */
        final /* synthetic */ C10295n f27594c;

        /* renamed from: d */
        final /* synthetic */ C10284d f27595d;

        /* renamed from: e */
        final /* synthetic */ C10277aa f27596e;

        /* renamed from: f */
        final /* synthetic */ List f27597f;

        /* renamed from: com.bytedance.ies.bullet.b.a$b$a */
        static final class C10232a extends C52712l implements C52671b<C10310w, C52860x> {

            /* renamed from: a */
            final /* synthetic */ C10231b f27598a;

            /* renamed from: b */
            final /* synthetic */ C52671b f27599b;

            /* renamed from: c */
            final /* synthetic */ C52671b f27600c;

            C10232a(C10231b bVar, C52671b bVar2, C52671b bVar3) {
                this.f27598a = bVar;
                this.f27599b = bVar2;
                this.f27600c = bVar3;
                super(1);
            }

            public final /* synthetic */ Object invoke(Object obj) {
                boolean z;
                C10290i iVar;
                C10310w wVar = (C10310w) obj;
                C52711k.m112240b(wVar, "kitProcessUnit");
                C10228a aVar = this.f27598a.f27592a;
                C10295n nVar = this.f27598a.f27594c;
                C10284d dVar = this.f27598a.f27595d;
                C10277aa aaVar = this.f27598a.f27596e;
                List list = this.f27598a.f27597f;
                C52671b bVar = this.f27599b;
                C52671b bVar2 = this.f27600c;
                C10290i a = nVar.mo18260a(dVar.getClass());
                if (!dVar.useNewInstance() && a != null) {
                    z = false;
                } else {
                    z = true;
                }
                if (z) {
                    C10326b bVar3 = wVar.f27713b;
                    C10250d a2 = aVar.mo18259a(dVar, list);
                    if (dVar != null) {
                        iVar = dVar.provideInstanceApi(aaVar, list, a2, bVar3);
                    } else {
                        throw new C52857u("null cannot be cast to non-null type com.bytedance.ies.bullet.core.kit.IKitApiDefault /* = com.bytedance.ies.bullet.core.kit.IKitApi<com.bytedance.ies.bullet.core.kit.IKitSettingsProvider, com.bytedance.ies.bullet.core.kit.IKitDelegatesProvider, com.bytedance.ies.bullet.core.kit.IKitInstanceApi, com.bytedance.ies.bullet.core.kit.IKitGlobalSettingsProvider> */");
                    }
                } else {
                    iVar = a;
                }
                if (iVar != null) {
                    if (z) {
                        nVar.mo18295a();
                        nVar.mo18357a(dVar.getClass(), iVar);
                        if (dVar != null) {
                            dVar.onApiMounted(iVar);
                            iVar.mo18351i();
                        } else {
                            throw new C52857u("null cannot be cast to non-null type com.bytedance.ies.bullet.core.kit.IKitApiDefault /* = com.bytedance.ies.bullet.core.kit.IKitApi<com.bytedance.ies.bullet.core.kit.IKitSettingsProvider, com.bytedance.ies.bullet.core.kit.IKitDelegatesProvider, com.bytedance.ies.bullet.core.kit.IKitInstanceApi, com.bytedance.ies.bullet.core.kit.IKitGlobalSettingsProvider> */");
                        }
                    } else {
                        iVar.mo18346d().mo18394a(wVar.f27713b);
                        if (!iVar.mo18347e().equals(list)) {
                            iVar.mo18343a(list, aVar.mo18259a(dVar, list));
                        }
                    }
                    C10290i iVar2 = iVar;
                    C10228a aVar2 = aVar;
                    boolean z2 = z;
                    C10295n nVar2 = nVar;
                    C10284d dVar2 = dVar;
                    Uri uri = wVar.f27712a;
                    C10310w wVar2 = wVar;
                    C10290i iVar3 = iVar;
                    List list2 = list;
                    C52671b bVar4 = bVar2;
                    C52671b bVar5 = bVar;
                    C10234c cVar = new C10234c(iVar2, aVar2, z2, nVar2, dVar2, wVar2, list2, bVar, bVar4);
                    C10290i iVar4 = iVar3;
                    C52671b bVar6 = cVar;
                    C10235d dVar3 = new C10235d(iVar4, aVar2, z2, nVar2, dVar2, wVar2, list2, bVar5, bVar4);
                    iVar4.mo18267a(uri, bVar6, dVar3);
                }
                return C52860x.f131107a;
            }
        }

        /* renamed from: com.bytedance.ies.bullet.b.a$b$b */
        static final class C10233b extends C52712l implements C52671b<Throwable, C52860x> {

            /* renamed from: a */
            final /* synthetic */ C52671b f27601a;

            C10233b(C52671b bVar) {
                this.f27601a = bVar;
                super(1);
            }

            public final /* synthetic */ Object invoke(Object obj) {
                Throwable th = (Throwable) obj;
                C52711k.m112240b(th, "it");
                this.f27601a.invoke(th);
                return C52860x.f131107a;
            }
        }

        /* renamed from: a */
        public final /* synthetic */ void mo18267a(Object obj, C52671b bVar, C52671b bVar2) {
            C10310w wVar = (C10310w) obj;
            C52711k.m112240b(wVar, "input");
            C52711k.m112240b(bVar, "resolve");
            C52711k.m112240b(bVar2, "reject");
            this.f27593b.mo18267a(wVar, new C10232a(this, bVar, bVar2), new C10233b(bVar2));
        }

        C10231b(C10228a aVar, C10333d<C10310w> dVar, C10295n nVar, C10284d dVar2, C10277aa aaVar, List list) {
            this.f27592a = aVar;
            this.f27593b = dVar;
            this.f27594c = nVar;
            this.f27595d = dVar2;
            this.f27596e = aaVar;
            this.f27597f = list;
        }
    }

    /* renamed from: com.bytedance.ies.bullet.b.a$c */
    static final class C10234c extends C52712l implements C52671b<Uri, C52860x> {

        /* renamed from: a */
        final /* synthetic */ C10290i f27602a;

        /* renamed from: b */
        final /* synthetic */ C10228a f27603b;

        /* renamed from: c */
        final /* synthetic */ boolean f27604c;

        /* renamed from: d */
        final /* synthetic */ C10295n f27605d;

        /* renamed from: e */
        final /* synthetic */ C10284d f27606e;

        /* renamed from: f */
        final /* synthetic */ C10310w f27607f;

        /* renamed from: g */
        final /* synthetic */ List f27608g;

        /* renamed from: h */
        final /* synthetic */ C52671b f27609h;

        /* renamed from: i */
        final /* synthetic */ C52671b f27610i;

        C10234c(C10290i iVar, C10228a aVar, boolean z, C10295n nVar, C10284d dVar, C10310w wVar, List list, C52671b bVar, C52671b bVar2) {
            this.f27602a = iVar;
            this.f27603b = aVar;
            this.f27604c = z;
            this.f27605d = nVar;
            this.f27606e = dVar;
            this.f27607f = wVar;
            this.f27608g = list;
            this.f27609h = bVar;
            this.f27610i = bVar2;
            super(1);
        }

        public final /* synthetic */ Object invoke(Object obj) {
            Uri uri = (Uri) obj;
            C52711k.m112240b(uri, "it");
            C10326b bVar = this.f27607f.f27713b;
            bVar.mo18397a(C10307t.class, new C10307t(this.f27602a, this.f27604c));
            this.f27609h.invoke(new C10310w(uri, bVar));
            return C52860x.f131107a;
        }
    }

    /* renamed from: com.bytedance.ies.bullet.b.a$d */
    static final class C10235d extends C52712l implements C52671b<Throwable, C52860x> {

        /* renamed from: a */
        final /* synthetic */ C10290i f27611a;

        /* renamed from: b */
        final /* synthetic */ C10228a f27612b;

        /* renamed from: c */
        final /* synthetic */ boolean f27613c;

        /* renamed from: d */
        final /* synthetic */ C10295n f27614d;

        /* renamed from: e */
        final /* synthetic */ C10284d f27615e;

        /* renamed from: f */
        final /* synthetic */ C10310w f27616f;

        /* renamed from: g */
        final /* synthetic */ List f27617g;

        /* renamed from: h */
        final /* synthetic */ C52671b f27618h;

        /* renamed from: i */
        final /* synthetic */ C52671b f27619i;

        C10235d(C10290i iVar, C10228a aVar, boolean z, C10295n nVar, C10284d dVar, C10310w wVar, List list, C52671b bVar, C52671b bVar2) {
            this.f27611a = iVar;
            this.f27612b = aVar;
            this.f27613c = z;
            this.f27614d = nVar;
            this.f27615e = dVar;
            this.f27616f = wVar;
            this.f27617g = list;
            this.f27618h = bVar;
            this.f27619i = bVar2;
            super(1);
        }

        public final /* synthetic */ Object invoke(Object obj) {
            Throwable th = (Throwable) obj;
            C52711k.m112240b(th, "it");
            this.f27611a.mo18342a(th);
            this.f27619i.invoke(th);
            return C52860x.f131107a;
        }
    }

    /* renamed from: com.bytedance.ies.bullet.b.a$e */
    static final class C10236e extends C52712l implements C52671b<C10310w, C52860x> {

        /* renamed from: a */
        final /* synthetic */ C10228a f27620a;

        /* renamed from: b */
        final /* synthetic */ Uri f27621b;

        /* renamed from: c */
        final /* synthetic */ C10326b f27622c;

        /* renamed from: d */
        final /* synthetic */ C52686q f27623d;

        /* renamed from: e */
        final /* synthetic */ C52671b f27624e;

        C10236e(C10228a aVar, Uri uri, C10326b bVar, C52686q qVar, C52671b bVar2) {
            this.f27620a = aVar;
            this.f27621b = uri;
            this.f27622c = bVar;
            this.f27623d = qVar;
            this.f27624e = bVar2;
            super(1);
        }

        public final /* synthetic */ Object invoke(Object obj) {
            C10310w wVar = (C10310w) obj;
            C52711k.m112240b(wVar, "unit");
            C10307t tVar = (C10307t) wVar.f27713b.mo18401c(C10307t.class);
            if (tVar != null) {
                this.f27623d.invoke(tVar.f27708a, wVar.f27712a, Boolean.valueOf(tVar.f27709b));
            } else {
                C52671b bVar = this.f27624e;
                StringBuilder sb = new StringBuilder("No result resolved for uri ");
                sb.append(this.f27621b);
                bVar.invoke(new IllegalStateException(sb.toString()));
            }
            return C52860x.f131107a;
        }
    }

    /* renamed from: com.bytedance.ies.bullet.b.a$f */
    static final class C10237f extends C52712l implements C52671b<Throwable, C52860x> {

        /* renamed from: a */
        final /* synthetic */ C10228a f27625a;

        /* renamed from: b */
        final /* synthetic */ Uri f27626b;

        /* renamed from: c */
        final /* synthetic */ C10326b f27627c;

        /* renamed from: d */
        final /* synthetic */ C52686q f27628d;

        /* renamed from: e */
        final /* synthetic */ C52671b f27629e;

        C10237f(C10228a aVar, Uri uri, C10326b bVar, C52686q qVar, C52671b bVar2) {
            this.f27625a = aVar;
            this.f27626b = uri;
            this.f27627c = bVar;
            this.f27628d = qVar;
            this.f27629e = bVar2;
            super(1);
        }

        public final /* synthetic */ Object invoke(Object obj) {
            Throwable th = (Throwable) obj;
            C52711k.m112240b(th, "it");
            this.f27629e.invoke(th);
            return C52860x.f131107a;
        }
    }

    /* renamed from: a */
    public final C10326b mo18262a() {
        return this.f27576q;
    }

    /* renamed from: b */
    private final void m20705b() {
        if (this.f27574o != null && !this.f27574o.mo18339b()) {
            this.f27574o.mo18338a();
        }
    }

    /* renamed from: a */
    public final void mo18263a(C10292k kVar) {
        C52711k.m112240b(kVar, "instancesHolder");
        this.f27575p.add(kVar);
    }

    /* renamed from: b */
    public final void mo18265b(C10292k kVar) {
        C52711k.m112240b(kVar, "instancesHolder");
        this.f27575p.remove(kVar);
    }

    /* renamed from: a */
    public final <T extends C10284d<?, ?, ?, ?>> C10290i mo18260a(Class<? extends T> cls) {
        C52711k.m112240b(cls, "clazz");
        for (C10292k a : this.f27575p) {
            C10290i a2 = a.mo18260a(cls);
            if (a2 != null) {
                return a2;
            }
        }
        return null;
    }

    /* renamed from: a */
    public final C10290i mo18261a(String str) {
        C52711k.m112240b(str, "sessionId");
        for (C10292k a : this.f27575p) {
            C10290i a2 = a.mo18261a(str);
            if (a2 != null) {
                return a2;
            }
        }
        return null;
    }

    /* access modifiers changed from: 0000 */
    /* renamed from: a */
    public final C10250d mo18259a(C10284d<?, ?, ?, ?> dVar, List<String> list) {
        C10271f fVar;
        C10293l lVar;
        List arrayList = new ArrayList();
        List arrayList2 = new ArrayList();
        List arrayList3 = new ArrayList();
        C10253e eVar = this.f27571l;
        if (eVar != null) {
            C10293l a = eVar.mo18288a(dVar.getClass());
            C10271f a2 = eVar.mo18287a();
            arrayList3.add(eVar.mo18290b());
            lVar = a;
            fVar = a2;
        } else {
            lVar = null;
            fVar = null;
        }
        Iterable<String> iterable = list;
        Collection arrayList4 = new ArrayList(C52575l.m112104a(iterable, 10));
        for (String str : iterable) {
            arrayList4.add((C10253e) this.f27572m.get(str));
        }
        for (C10253e eVar2 : (List) arrayList4) {
            if (eVar2 != null) {
                C10293l a3 = eVar2.mo18288a(dVar.getClass());
                if (a3 != null) {
                    arrayList.add(a3);
                }
                arrayList2.add(eVar2.mo18287a());
                arrayList3.add(eVar2.mo18290b());
            }
        }
        if (dVar != null) {
            C10315f fVar2 = new C10315f(dVar, lVar, arrayList, fVar, arrayList2, arrayList3);
            return fVar2;
        }
        throw new C52857u("null cannot be cast to non-null type com.bytedance.ies.bullet.core.kit.IKitApiDefault /* = com.bytedance.ies.bullet.core.kit.IKitApi<com.bytedance.ies.bullet.core.kit.IKitSettingsProvider, com.bytedance.ies.bullet.core.kit.IKitDelegatesProvider, com.bytedance.ies.bullet.core.kit.IKitInstanceApi, com.bytedance.ies.bullet.core.kit.IKitGlobalSettingsProvider> */");
    }

    /* renamed from: a */
    public final void mo18264a(C10295n nVar, C10277aa aaVar, Uri uri, List<String> list, C10326b bVar, C52686q<? super C10290i, ? super Uri, ? super Boolean, C52860x> qVar, C52671b<? super Throwable, C52860x> bVar2) {
        Object obj;
        Object obj2;
        Uri uri2 = uri;
        C10326b bVar3 = bVar;
        C52671b<? super Throwable, C52860x> bVar4 = bVar2;
        C52711k.m112240b(nVar, "instancesHolder");
        C52711k.m112240b(aaVar, "sessionInfo");
        C52711k.m112240b(uri2, "uri");
        C52711k.m112240b(list, "packageNames");
        C52711k.m112240b(bVar3, "providerFactory");
        C52711k.m112240b(qVar, "resolve");
        C52711k.m112240b(bVar4, "reject");
        m20705b();
        Iterator it = this.f27569j.iterator();
        while (true) {
            obj = null;
            if (!it.hasNext()) {
                obj2 = null;
                break;
            }
            obj2 = it.next();
            if (C52711k.m112239a((Object) ((C10284d) obj2).getClass().getName(), (Object) "com.bytedance.ies.bullet.kit.rn.RnKitApi")) {
                break;
            }
        }
        C10284d dVar = (C10284d) obj2;
        Iterator it2 = this.f27569j.iterator();
        while (true) {
            if (!it2.hasNext()) {
                break;
            }
            Object next = it2.next();
            if (((C10284d) next) instanceof C10313z) {
                obj = next;
                break;
            }
        }
        C10284d dVar2 = (C10284d) obj;
        if (dVar == null && this.f27574o != null && this.f27574o.mo18339b()) {
            C10284d a = C10296o.m20822a("com.bytedance.ies.bullet.kit.rn.IRnKitApi");
            if (a != null) {
                Object obj3 = this.f27561b;
                if (obj3 != null) {
                    C10289h convertToGlobalSettingsProvider = a.convertToGlobalSettingsProvider(obj3);
                    if (convertToGlobalSettingsProvider != null) {
                        a.onInitialized(convertToGlobalSettingsProvider.mo18340a(mo18262a()), mo18262a());
                        if (!this.f27573n.f27636c) {
                            a.ensureKitInitialized();
                        }
                        Map<Class<C10284d<?, ?, ?, ?>>, C10289h<?>> map = this.f27570k;
                        Class cls = a.getClass();
                        if (cls != null) {
                            map.put(cls, convertToGlobalSettingsProvider);
                        } else {
                            throw new C52857u("null cannot be cast to non-null type java.lang.Class<com.bytedance.ies.bullet.core.kit.IKitApiAny /* = com.bytedance.ies.bullet.core.kit.IKitApi<*, *, *, *> */>");
                        }
                    }
                }
                Map<String, Object> map2 = this.f27560a;
                if (map2 != null) {
                    for (Entry entry : map2.entrySet()) {
                        C10293l convertToPackageProviderFactory = a.convertToPackageProviderFactory(entry.getValue());
                        if (convertToPackageProviderFactory != null) {
                            if (C52711k.m112239a((Object) (String) entry.getKey(), (Object) "defaultPackageBundle")) {
                                C10253e eVar = this.f27571l;
                                if (eVar != null) {
                                    eVar.mo18289a(a.getClass(), convertToPackageProviderFactory);
                                }
                            } else {
                                C10253e eVar2 = (C10253e) this.f27572m.get(entry.getKey());
                                if (eVar2 != null) {
                                    eVar2.mo18289a(a.getClass(), convertToPackageProviderFactory);
                                }
                            }
                        }
                    }
                }
                if (dVar2 != null) {
                    this.f27569j.remove(dVar2);
                }
                this.f27569j.add(0, a);
            }
        }
        if (this.f27569j.size() == 0) {
            StringBuilder sb = new StringBuilder("No kitApi found for uri ");
            sb.append(uri2);
            bVar4.invoke(new IllegalStateException(sb.toString()));
            return;
        }
        Iterable<C10284d> iterable = this.f27569j;
        Collection arrayList = new ArrayList(C52575l.m112104a(iterable, 10));
        for (C10284d dVar3 : iterable) {
            C10231b bVar5 = new C10231b(this, dVar3.provideProcessor(), nVar, dVar3, aaVar, list);
            arrayList.add(bVar5);
        }
        C10335f fVar = (C10335f) this.f27568i.invoke(C52575l.m112139e((Collection) (List) arrayList), C10308u.f27710a);
        bVar3.mo18394a(mo18262a());
        C10310w wVar = new C10310w(uri2, bVar3);
        Uri uri3 = uri;
        C10326b bVar6 = bVar;
        C52686q<? super C10290i, ? super Uri, ? super Boolean, C52860x> qVar2 = qVar;
        C52671b<? super Throwable, C52860x> bVar7 = bVar2;
        C10236e eVar3 = new C10236e(this, uri3, bVar6, qVar2, bVar7);
        C52671b bVar8 = eVar3;
        C10237f fVar2 = new C10237f(this, uri3, bVar6, qVar2, bVar7);
        fVar.mo18267a(wVar, bVar8, fVar2);
    }

    private C10228a(C10326b bVar, C10247a aVar, C10357d dVar, C10358e eVar, C10238a aVar2, C10321d dVar2, C10243a aVar3, C52682m<? super Iterable<? extends C10333d<C10310w>>, ? super C10334e<C10310w>, ? extends C10335f<C10310w>> mVar, List<C10284d<?, ?, ?, ?>> list, Map<Class<C10284d<?, ?, ?, ?>>, C10289h<?>> map, C10253e eVar2, Map<String, ? extends C10253e> map2, C10242b bVar2, C10287f fVar) {
        String str;
        String str2;
        C10288g gVar;
        this.f27576q = bVar;
        this.f27562c = aVar;
        this.f27563d = dVar;
        this.f27564e = eVar;
        this.f27565f = aVar2;
        this.f27566g = dVar2;
        this.f27567h = aVar3;
        this.f27568i = mVar;
        this.f27569j = list;
        this.f27570k = map;
        this.f27571l = eVar2;
        this.f27572m = map2;
        this.f27573n = bVar2;
        this.f27574o = fVar;
        C10326b a = mo18262a();
        a.mo18397a(C10244c.class, this);
        a.mo18397a(C10247a.class, this.f27562c);
        a.mo18397a(C10357d.class, this.f27563d);
        a.mo18397a(C10358e.class, this.f27564e);
        a.mo18397a(C10238a.class, this.f27565f);
        a.mo18397a(C10321d.class, this.f27566g);
        a.mo18397a(C10243a.class, this.f27567h);
        a.mo18397a(C10242b.class, this.f27573n);
        C8872c b = C8878d.m17456b();
        C8871a aVar4 = new C8871a();
        C8873d b2 = C8879e.m17459b();
        C10238a aVar5 = this.f27565f;
        if (aVar5 != null) {
            str = aVar5.f27633d;
        } else {
            str = null;
        }
        b2.mo15869a(str);
        aVar4.f24181b = b2;
        C10354c a2 = C10355a.m20932a();
        C10238a aVar6 = this.f27565f;
        if (aVar6 != null) {
            str2 = aVar6.f27632c;
        } else {
            str2 = null;
        }
        a2.mo15874a(str2);
        a2.f27794b = this.f27563d;
        aVar4.f24180a = a2;
        b.mo15866a(aVar4);
        m20705b();
        for (C10284d dVar3 : this.f27569j) {
            if (dVar3 != null) {
                C10289h hVar = (C10289h) this.f27570k.get(dVar3.getClass());
                if (hVar != null) {
                    gVar = hVar.mo18340a(mo18262a());
                } else {
                    gVar = null;
                }
                dVar3.onInitialized(gVar, mo18262a());
                if (!this.f27573n.f27636c) {
                    dVar3.ensureKitInitialized();
                }
            } else {
                throw new C52857u("null cannot be cast to non-null type com.bytedance.ies.bullet.core.kit.IKitApiDefault /* = com.bytedance.ies.bullet.core.kit.IKitApi<com.bytedance.ies.bullet.core.kit.IKitSettingsProvider, com.bytedance.ies.bullet.core.kit.IKitDelegatesProvider, com.bytedance.ies.bullet.core.kit.IKitInstanceApi, com.bytedance.ies.bullet.core.kit.IKitGlobalSettingsProvider> */");
            }
        }
        this.f27575p = new LinkedHashSet();
    }

    public /* synthetic */ C10228a(C10326b bVar, C10247a aVar, C10357d dVar, C10358e eVar, C10238a aVar2, C10321d dVar2, C10243a aVar3, C52682m mVar, List list, Map map, C10253e eVar2, Map map2, C10242b bVar2, C10287f fVar, C52707g gVar) {
        this(bVar, aVar, dVar, eVar, aVar2, dVar2, aVar3, mVar, list, map, eVar2, map2, bVar2, fVar);
    }
}
